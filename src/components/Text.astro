---
import CopyIcon from "../icons/CopyIcon.astro";
import BookIcon from "../icons/BookIcon.astro";
const { title } = Astro.props;
---

<div
    class="Text-component code-block-container relative group my-4 pb-4 rounded-2xl border border-slate-300/60 bg-white/70 backdrop-blur-xl dark:border-slate-800/60 dark:bg-slate-900/60 p-2 px-3 transition-all duration-300 overflow-hidden"
>
    <div
        class="absolute -top-12 -right-12 w-32 h-32 bg-blue-500/5 blur-2xl rounded-full group-hover:bg-blue-500/10 transition-colors"
    >
    </div>

    <div class="flex items-center justify-between mb-3 relative z-10">
        <div class="flex items-center">
            {
                title && (
                    <div class="inline-flex items-center gap-2.5 px-3 py-1.5 rounded-xl text-xs font-bold uppercase tracking-wider bg-slate-100/50 text-slate-700 dark:bg-slate-800/50 dark:text-slate-300 border border-slate-200/50 dark:border-slate-700/50 shadow-sm backdrop-blur-md">
                        <span class="text-blue-500 dark:text-blue-400">
                            <BookIcon dimension={16} />
                        </span>
                        <span class="flex items-center gap-2">
                            <span class="w-1 h-1 rounded-full bg-slate-300 dark:bg-slate-600" />
                            {title}
                        </span>
                    </div>
                )
            }
            {
                !title && (
                    <div class="inline-flex items-center justify-center w-8 h-8 rounded-lg bg-slate-100/50 dark:bg-slate-800/50 text-slate-400 border border-slate-200/50 dark:border-slate-700/50">
                        <BookIcon dimension={16} />
                    </div>
                )
            }
        </div>

        <button
            id="copy-btn"
            class="group/copy relative p-2 rounded-xl bg-slate-100/50 dark:bg-slate-800/50 text-slate-500 dark:text-slate-400 hover:bg-blue-500 hover:text-white dark:hover:bg-blue-500/20 dark:hover:text-blue-400 transition-all active:scale-95 border border-slate-200/50 dark:border-slate-700/50 cursor-pointer"
            aria-label="Copy text"
        >
            <span
                id="copy-icon-holder-for-terminal"
                class="transition-transform group-hover/copy:scale-110"
            >
                <CopyIcon dimension={16} />
            </span>

            <span
                class="absolute right-full top-1/2 -translate-y-1/2 mr-3 px-2 py-1 bg-slate-900 text-white text-[10px] font-bold uppercase tracking-widest rounded-lg opacity-0 group-hover/copy:opacity-100 transition-all pointer-events-none whitespace-nowrap border border-slate-700 shadow-xl translate-x-1 group-hover/copy:translate-x-0"
            >
                Copy
            </span>
        </button>
    </div>

    <div
        id="code-block-container"
        class="somglossary-text relative z-10 leading-relaxed dark:text-slate-200 text-slate-700 text-sm m-0"
    >
        <slot />
    </div>
</div>

<script src="../helpers/copyText.ts"></script>
